<div class="course-page">
  <div class="container-fluid py-3 py-md-4">

    <!-- Header -->
    <div class="d-flex align-items-center justify-content-between mb-3">
      <div>
        <div class="tiny text-uppercase text-muted">Course</div>
        <div class="fw-semibold text-dark">Create new course</div>
      </div>
      <a routerLink="/courses" class="btn btn-light border rounded-pill btn-sm px-3">
        ← Back
      </a>
    </div>

    <!-- Card -->
    <div class="d-flex justify-content-center">
      <form [formGroup]="form" (ngSubmit)="submit()" class=" cardx p-3 p-md-4 col-12 col-lg-8">
        <div class="fw-semibold text-uppercase text-muted tiny mb-3">
          Course information
        </div>
        <!-- Name -->
        <div class="mb-3">
          <label class="form-label">Name</label>
          <input class="form-control" formControlName="name" />
          <div class="text-danger small mt-1" *ngIf="form.controls.name.touched && form.controls.name.invalid">
            <span *ngIf="form.controls.name.errors?.['required']">
              Name is required.
            </span>
            <span *ngIf="form.controls.name.errors?.['minlength']">
              Minimum 5 characters.
            </span>
          </div>
        </div>
        <!-- Description -->
        <div class="mb-3">
          <label class="form-label">Description</label>
          <textarea class="form-control" rows="4" formControlName="description">
          </textarea>
          <div class="text-danger small mt-1"
            *ngIf="form.controls.description.touched && form.controls.description.invalid">
            Max 500 characters.
          </div>
        </div>
        <!-- Credits -->
        <div class="mb-3">
          <label class="form-label">
            Credits
            <span class="text-muted small">(1 – 10)</span>
          </label>
          <input type="number" class="form-control" formControlName="credits" min="1" max="10" />
          <div class="text-danger small mt-1" *ngIf="form.controls.credits.touched && form.controls.credits.invalid">
            <span *ngIf="form.controls.credits.errors?.['required']">
              Credits are required.
            </span>
            <span *ngIf="form.controls.credits.errors?.['min']">
              Minimum is 1.
            </span>
            <span *ngIf="form.controls.credits.errors?.['max']">
              Maximum is 10.
            </span>
          </div>
        </div>
        <!-- Actions -->
        <div class="d-flex gap-2 mt-4">
          <button class="btn btn-primary-neo px-4" type="submit" [disabled]="isSubmitting">
            Create Course
          </button>
          <a routerLink="/courses" class="btn btn-light border rounded-3 px-4" [class.disabled]="isSubmitting">
            Cancel
          </a>
        </div>
        <div *ngIf="serverError" class="alert alert-danger rounded-4 mt-3">
          {{ serverError }}
        </div>
      </form>
    </div>
  </div>
</div>
